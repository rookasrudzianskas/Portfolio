{"remainingRequest":"/Users/rookasrudzianskas/Documents/46_VUE/01_PORTFOLIO/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/rookasrudzianskas/Documents/46_VUE/01_PORTFOLIO/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/rookasrudzianskas/Documents/46_VUE/01_PORTFOLIO/src/views/Home.vue","mtime":1558428182000},{"path":"/Users/rookasrudzianskas/Documents/46_VUE/01_PORTFOLIO/node_modules/cache-loader/dist/cjs.js","mtime":1624817633561},{"path":"/Users/rookasrudzianskas/Documents/46_VUE/01_PORTFOLIO/node_modules/babel-loader/lib/index.js","mtime":1624817626029},{"path":"/Users/rookasrudzianskas/Documents/46_VUE/01_PORTFOLIO/node_modules/cache-loader/dist/cjs.js","mtime":1624817633561},{"path":"/Users/rookasrudzianskas/Documents/46_VUE/01_PORTFOLIO/node_modules/vue-loader/lib/index.js","mtime":1624817635056}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// style\nimport '@/styles/home.scss';\n// ScrollMagic\nimport * as ScrollMagic from \"scrollmagic\";\n// components\nimport Intro from \"@/components/Home/Intro.vue\";\nimport Titles from \"@/components/Home/Titles.vue\";\nimport Biz from \"@/components/Home/Biz.vue\";\nimport EarlyDays from \"@/components/Home/EarlyDays.vue\";\nimport SuperMario from \"@/components/Home/SuperMario.vue\";\nimport Ghibli from \"@/components/Home/Ghibli.vue\";\nimport Wrapper from \"@/components/Home/Wrapper.vue\";\nimport Thanks from \"@/components/Home/Thanks.vue\";\n// loop animations (depend on each scene!!!)\n// @TODO improve\nimport BizBiz from \"@/js/abiz\";\nimport BizAstro from \"@/js/astro\";\nimport BizCoffee from \"@/js/coffee\";\nimport BizET from \"@/js/et\";\nimport BizDino from \"@/js/dino\";\nimport BizFilomena from \"@/js/filomena\";\nimport BizOcto from \"@/js/octo\";\nimport BizZen from \"@/js/zen\";\nimport BizShapes from \"@/js/shapes\";\nimport Potion from \"@/js/potion\";\nimport Pepe from \"@/js/pepe\";\nimport Mario from \"@/js/mario\";\nimport Castle from \"@/js/ghibli\";\n\nexport default {\n    name: 'home',\n    props: {\n        viewport: Object,\n    },\n    data() {\n        return {\n            intro: new TimelineMax(),\n            scroller: new ScrollMagic.Controller(),\n            scenes: [],\n            timeLines: [],\n            tweeners: [],\n        }\n    },\n    created() {\n        // before leaving the page, in case of refresh\n        window.addEventListener(\"beforeunload\", () => window.scroll(0, 0));\n    },\n    mounted() {\n\n        /**\n         * @TODO code split animations\n         *       optimize code\n         *       better Mario commands\n         */\n\n        // 01. play Intro\n        this.playIntro();\n        // 02. setup time lines and scenes\n        this.setupScenes();\n        // 03. build loop animations for each character\n        this.buildLoops();\n        // 04. Hook loops to ScrollMagic Scenes\n        this.hookLoops();\n        // 05. Animate every scene on scroll\n        this.sceneCurriculumVitae();\n        // biz(2011,2019)\n        this.sceneBizTitle();\n        this.sceneBizZen();\n        this.sceneBizEverybody();\n        this.sceneBizEnding();\n        // EarlyDays(2008,2011)\n        this.sceneEarlyDays();\n        this.sceneOcean();\n        this.sceneFloatingHead();\n        this.sceneSunset();\n        // ${Art} ${Philosophy} ${VideoGames}\n        this.sceneArtPhiGames();\n        this.sceneMario();\n        this.sceneGhibli();\n        // </wrapper>\n        this.sceneWrapper();\n\n    },\n    beforeDestroy() {\n\n        // stop loop animations\n        BizBiz.stop();\n        BizAstro.stop();\n        BizCoffee.stop();\n        BizDino.stop();\n        BizET.stop();\n        BizFilomena.stop();\n        BizOcto.stop();\n        BizShapes.stop();\n        BizZen.stop();\n        Castle.stop();\n        Pepe.stop();\n        Potion.stop();\n        Mario.stop();\n        // kill time lines\n        this.timeLines.map(tl => tl.kill());\n        // destroy ScrollMagic controller\n        this.scroller.destroy();\n\n    },\n    methods: {\n        setupScenes() {\n            /**\n             * @desc\n             * Where the magic happens\n             *\n             * add tweeners to the scenes,\n             * then to the ScrollMagic controller,\n             * and then the tweeners will tween the time lines.\n             *\n             * This way I can synchronize scenes to the HTML content\n             * and keep the momentum effect on all browsers\n             */\n            const scenesElements = document.querySelectorAll(\".scene\");\n            for (let [i, scenesElement] of Array.from(scenesElements).entries()) {\n                // tweeners, to animate the time lines' progress, to add momentum\n                this.tweeners[i] = new TimelineMax();\n                // time lines\n                this.timeLines[i] = new TimelineMax({paused: true});\n                // create scenes on ScrollMagic\n                this.scenes[i] = new ScrollMagic.Scene({\n                    // trigger on the scene element\n                    triggerElement: scenesElement,\n                    // start half screen before\n                    offset: -this.viewport.h / 2,\n                    // lasts for the scene element height\n                    duration: scenesElement.offsetHeight\n                })\n                    .setTween(this.tweeners[i])\n                    .addTo(this.scroller)\n                    .reverse(true)\n                    .setClassToggle(scenesElement, \"active\");\n                // animate the progress in the time lines\n                this.tweeners[i]\n                    .to(scenesElement, 1, {autoAlpha: 1}) // fake, just to have some progress\n                    .eventCallback('onUpdate', event => {\n                        TweenLite.to(this.timeLines[i], .5, {\n                            progress: this.tweeners[i].progress(),\n                            ease: Power0.easeNone\n                        });\n                    });\n            }\n        },\n        playIntro() {\n            /**\n             * @desc\n             * intro scene\n             */\n            this.intro\n                .addLabel('enter', 1)\n                .from('#intro .title', 2, {\n                    autoAlpha: 0,\n                    rotationX: 90,\n                    transformOrigin: '50% 50% -100px',\n                    ease: Power3.easeOut,\n                }, 'enter')\n                .from('#intro .std', 2, {\n                    autoAlpha: 0,\n                    x: -32,\n                    ease: Power3.easeOut,\n                }, 'enter+=1.5');\n        },\n        hookLoops() {\n            /**\n             * @desc\n             * play and stop loop animations\n             * based on the scenes been played\n             */\n            this.scenes[0]\n                .on('enter', (e) => {\n                    if (e.scrollDirection === 'FORWARD') {\n                    }\n                    if (e.scrollDirection === 'REVERSE') {\n                        BizBiz.stop();\n                        BizShapes.stop();\n                    }\n                });\n            this.scenes[1]\n                .on('enter', (e) => {\n                    if (e.scrollDirection === 'FORWARD') {\n                        BizBiz.play();\n                        BizShapes.play();\n                    }\n                    if (e.scrollDirection === 'REVERSE') {\n                        BizZen.stop();\n                    }\n                });\n            this.scenes[2]\n                .on('enter', (e) => {\n                    if (e.scrollDirection === 'FORWARD') {\n                        BizZen.play();\n                    }\n                    if (e.scrollDirection === 'REVERSE') {\n                        BizBiz.play();\n                        BizShapes.play();\n\n                        BizFilomena.stop();\n                        BizDino.stop();\n                        BizET.stop();\n                        BizOcto.stop();\n                        BizAstro.stop();\n                        BizCoffee.stop();\n                    }\n                });\n            this.scenes[3]\n                .on('enter', (e) => {\n                    if (e.scrollDirection === 'FORWARD') {\n                        BizBiz.stop();\n                        BizShapes.stop();\n\n                        BizFilomena.play();\n                        BizDino.play();\n                        BizET.play();\n                        BizOcto.play();\n                        BizAstro.play();\n                        BizCoffee.play();\n                    }\n                    if (e.scrollDirection === 'REVERSE') {\n                        BizZen.play();\n                    }\n                });\n            this.scenes[4]\n                .on('enter', (e) => {\n                    if (e.scrollDirection === 'FORWARD') {\n                        BizZen.stop();\n                    }\n                    if (e.scrollDirection === 'REVERSE') {\n                        BizFilomena.play();\n                        BizDino.play();\n                        BizET.play();\n                        BizOcto.play();\n                    }\n                });\n            this.scenes[5]\n                .on('enter', (e) => {\n                    if (e.scrollDirection === 'FORWARD') {\n                        BizFilomena.stop();\n                        BizDino.stop();\n                        BizET.stop();\n                        BizOcto.stop();\n                    }\n                    if (e.scrollDirection === 'REVERSE') {\n                        BizAstro.play();\n                        BizCoffee.play();\n\n                        Pepe.stop();\n                    }\n                });\n            this.scenes[6]\n                .on('enter', (e) => {\n                    if (e.scrollDirection === 'FORWARD') {\n                        BizAstro.stop();\n                        BizCoffee.stop();\n\n                        Pepe.play();\n                    }\n                    if (e.scrollDirection === 'REVERSE') {\n                    }\n                });\n            // 7\n            // 8\n            this.scenes[9]\n                .on('enter', (e) => {\n                    if (e.scrollDirection === 'FORWARD') {\n                    }\n                    if (e.scrollDirection === 'REVERSE') {\n                        Pepe.play();\n                        // release mario body lock and remove bg\n                        document.body.classList.remove('-mario-lock', '-mario-bg');\n                    }\n                });\n            this.scenes[10] /** @Mario **/\n                .on('enter', (e) => {\n                    if (e.scrollDirection === 'FORWARD') {\n                        Pepe.stop();\n                        // mario bg is added inside mario.js\n                    }\n                    if (e.scrollDirection === 'REVERSE') {\n                        // add bg just in case\n                        document.body.classList.add('-mario-bg');\n                    }\n                })\n                .on('leave', (e) => {\n                    if (e.scrollDirection === 'FORWARD') {\n                    }\n                    if (e.scrollDirection === 'REVERSE') {\n                        Castle.stop();\n                    }\n                });\n            this.scenes[11]\n                .on('enter', (e) => {\n                    if (e.scrollDirection === 'FORWARD') {\n                        Castle.play();\n                        // release mario body lock\n                        document.body.classList.remove('-mario-lock');\n                    }\n                    if (e.scrollDirection === 'REVERSE') {\n                    }\n\n                    // add bg just in case in both directions\n                    document.body.classList.add('-mario-bg');\n                });\n            this.scenes[12]\n                .on('enter', (e) => {\n                    // add bg just in case in both directions\n                    document.body.classList.add('-mario-bg');\n                });\n            this.scenes[13]\n                .on('enter', (e) => {\n                    // add bg just in case in both directions\n                    document.body.classList.add('-mario-bg');\n                });\n            this.scenes[14]\n                .on('enter', (e) => {\n                    // add bg just in case in both directions\n                    document.body.classList.add('-mario-bg');\n                });\n            this.scenes[15]\n                .on('enter', (e) => {\n                    if (e.scrollDirection === 'FORWARD') {\n                        // remove bg\n                        document.body.classList.remove('-mario-bg');\n                    }\n                    if (e.scrollDirection === 'REVERSE') {\n                        Castle.play();\n\n                        Potion.stop();\n                    }\n                })\n                .on('leave', (e) => {\n                    if (e.scrollDirection === 'FORWARD') {\n                    }\n                    if (e.scrollDirection === 'REVERSE') {\n                        // add bg\n                        document.body.classList.add('-mario-bg');\n                    }\n                });\n            ;\n            this.scenes[16]\n                .on('enter', (e) => {\n                    if (e.scrollDirection === 'FORWARD') {\n                        Castle.stop();\n\n                        Potion.play();\n                    }\n                    if (e.scrollDirection === 'REVERSE') {\n                    }\n                });\n        },\n        buildLoops() {\n            /**\n             * @desc\n             * mount loop animations\n             */\n            BizBiz.build();\n            BizAstro.build();\n            BizCoffee.build();\n            BizDino.build();\n            Castle.build();\n            Potion.build();\n            BizShapes.build();\n            if (this.viewport.is568) {\n                Castle.build568();\n            } else {\n                Castle.build();\n            }\n            if (this.viewport.is568) {\n                Pepe.build568();\n            } else if (this.viewport.is1024) {\n                Pepe.build1024();\n            } else {\n                Pepe.build();\n            }\n            if (!this.viewport.is1024) {\n                BizFilomena.build();\n                BizOcto.build();\n            }\n            if (!this.viewport.is768) BizET.build();\n            if (!this.viewport.is568) BizZen.build();\n        },\n        sceneCurriculumVitae(){\n            /**\n             * @desc\n             * Scrolling animations time lines\n             */\n            // CurriculumVitae()\n            this.timeLines[0]\n                .set('#curriculum .title-container', {autoAlpha: 1}) // show animations\n                .addLabel('start', 0)\n                .from('#curriculum .title', 2, {\n                    yPercent: -50,\n                    autoAlpha: 0,\n                    rotationX: 90,\n                    transformOrigin: '50% 50% -100px',\n                    ease: Power3.easeOut,\n                }, 'start')\n                .from('#curriculum .std', 2, {\n                    yPercent: 50,\n                    autoAlpha: 0,\n                    rotationX: -90,\n                    transformOrigin: '50% 50% -100px',\n                    ease: Power3.easeOut,\n                }, 'start')\n                .to('#curriculum .title, #curriculum .std', 2, {\n                    autoAlpha: 0,\n                    yPercent: -100\n                });\n        },\n        sceneBizTitle(){\n            // biz()\n            this.timeLines[1]\n            // next scene characters\n                .set('#filomena', {\n                    autoAlpha: 0,\n                    scale: 0,\n                    xPercent: 600,\n                    yPercent: 100,\n                })\n                .set('#dino', {\n                    scale: 0,\n                    xPercent: 400,\n                    yPercent: 100,\n                })\n                .set('#astro, #coffee, #et, #octo', {\n                    autoAlpha: 0,\n                    scale: 0,\n                    xPercent: 400,\n                    yPercent: 100,\n                })\n                // this scene\n                .set('#bizTitle .title-container, #biz1 .container', {autoAlpha: 1})\n                .addLabel('start', 0)\n                .from('#bizTitle .title', 6, {\n                    yPercent: -50,\n                    autoAlpha: 0,\n                    rotationX: 90,\n                    transformOrigin: '50% 50% -100px',\n                    ease: Power3.easeOut,\n                }, 'start')\n                .to('#bizTitle .title', 6, {\n                    autoAlpha: 0,\n                    yPercent: -100,\n                })\n                .staggerFrom('#smart, #open', 6, {\n                    autoAlpha: 0,\n                    scale: 0,\n                    ease: Power3.easeOut,\n                }, .2, 'start+=2')\n                .from('#abiz', 6, {\n                    scale: 0,\n                }, 'start+=2');\n        },\n        sceneBizZen(){\n            // Biz Commerce 1\n            this.timeLines[2]\n                .addLabel('start', 0)\n                .from('#zen', 4, {\n                    xPercent: 70,\n                    ease: Power3.easeOut,\n                }, 'start')\n                .to('#abiz', 4, {\n                    autoAlpha: 0,\n                    xPercent: -100,\n                    ease: Power3.easeIn,\n                }, 'start')\n                .staggerTo('#smart, #open', 4, {\n                    autoAlpha: 0,\n                    scale: 0,\n                    ease: Power3.easeOut,\n                }, .2, 'start');\n        },\n        sceneBizEverybody(){\n            // Biz Commerce 2\n            this.timeLines[3]\n                .addLabel('start', 0)\n                .to('#zen', 4, {\n                    yPercent: 130,\n                    ease: Power3.easeIn,\n                }, 'start')\n                .staggerTo('#dino, #astro, #coffee, #et, #filomena, #octo', 5, {\n                    autoAlpha: 1,\n                    scale: 1,\n                    xPercent: 0,\n                    yPercent: 0,\n                    ease: Power3.easeOut\n                }, .2, 'start');\n        },\n        sceneBizEnding(){\n            // Biz Commerce 3\n            this.timeLines[4]\n                .addLabel('start', 0)\n                .to('#dino', 6, {\n                    yPercent: 200,\n                    scale: 1.5,\n                    ease: Power3.easeIn,\n                }, 'start')\n                .to('#et', 6, {\n                    xPercent: -250,\n                    yPercent: -100,\n                    autoAlpha: 0,\n                    ease: Power3.easeIn,\n                }, 'start')\n                .to('#filomena', 6, {\n                    xPercent: -300,\n                    yPercent: 300,\n                    autoAlpha: 0,\n                    ease: Power3.easeIn,\n                }, 'start')\n                .to('#octo', 6, {\n                    xPercent: -650,\n                    yPercent: 400,\n                    autoAlpha: 0,\n                    ease: Power3.easeIn,\n                }, 'start')\n                .to('#astro', 12, {\n                    bottom: '-10vh',\n                    right: '-10vw',\n                    scale: 4,\n                    ease: Power3.easeInOut,\n                }, 'start')\n                .to('#coffee', 12, {\n                    top: '8rem',\n                    left: 0,\n                    scale: 4,\n                    ease: Power3.easeInOut,\n                }, 'start');\n        },\n        sceneEarlyDays(){\n            // Clouds parallax\n            let cloudsTimeline = new TimelineMax({paused: true}),\n                cloudsTweener = new TimelineMax();\n            cloudsTweener\n                .to('.cloud-1', 20, {rotation: 0})\n                .eventCallback('onUpdate', () => {\n                    TweenLite.to(cloudsTimeline, 4, {\n                        progress: cloudsTweener.progress(),\n                        ease: Power3.easeOut\n                    });\n                });\n\n            cloudsTimeline\n                .addLabel('start', 0)\n                .fromTo('.cloud-1', 10, {\n                    yPercent: 50,\n                    xPercent: 20,\n                }, {\n                    yPercent: -85,\n                    xPercent: -20,\n                }, 'action')\n                .fromTo('.cloud-2', 10, {\n                    yPercent: 40,\n                    xPercent: -10,\n                }, {\n                    yPercent: -40,\n                    xPercent: 85,\n                }, 'action')\n                .fromTo('.cloud-3', 10, {\n                    yPercent: 70,\n                    xPercent: 40,\n                }, {\n                    yPercent: -85,\n                    xPercent: -40,\n                }, 'action');\n\n            new ScrollMagic.Scene({\n                triggerElement: '#earlyTitle',\n                offset: -this.viewport.h / 2,\n                duration: this.viewport.h * 3.5\n            })\n                .setTween(cloudsTweener)\n                .addTo(this.scroller);\n\n            // EarlyDays()\n            this.timeLines[5]\n                .set('.pepe-scenery', {autoAlpha: 0})\n                .set('#biz1 .container', {autoAlpha: 1})\n                .addLabel('start', 0)\n                .to('#astro', 4, {\n                    yPercent: 600,\n                    xPercent: 200,\n                    ease: Power2.easeIn,\n                }, 'start')\n                .to('#coffee', 4, {\n                    yPercent: -600,\n                    xPercent: -200,\n                    ease: Power2.easeIn,\n                }, 'start')\n                .to('#earlyTitle .title-container', 2, {autoAlpha: 1}, 'start')\n                .from('#earlyTitle .title', 4, {\n                    yPercent: -50,\n                    autoAlpha: 0,\n                    rotationX: 90,\n                    transformOrigin: '50% 50% -100px',\n                    ease: Power3.easeOut,\n                }, 'start')\n                .from('#earlyTitle .std', 4, {\n                    yPercent: 50,\n                    autoAlpha: 0,\n                    rotationX: -90,\n                    transformOrigin: '50% 50% 100px',\n                    ease: Power3.easeOut,\n                }, 'start')\n                .to('#earlyTitle .title, #earlyTitle .std', 4, {\n                    autoAlpha: 0,\n                    yPercent: -100,\n                });\n        },\n        sceneOcean(){\n            // Pepe parallax\n            let pepeTimeline = new TimelineMax({paused: true}),\n                pepeTweener = new TimelineMax(),\n                pepeLength = window.innerWidth + document.querySelector('.pepe').offsetWidth + 16;\n\n            pepeTweener\n                .to('.pepe', 20, {rotation: 0})\n                .eventCallback('onUpdate', () => {\n                    TweenLite.to(pepeTimeline, 4, {\n                        progress: pepeTweener.progress(),\n                        ease: Power3.easeOut\n                    });\n                });\n\n            pepeTimeline\n                .addLabel('start')\n                .to('.pepe', 10, {\n                    x: `-${pepeLength}px`,\n                    scale: .5\n                }, 'start');\n\n            new ScrollMagic.Scene({\n                triggerElement: '#early-days2',\n                offset: -this.viewport.h / 2,\n                duration: this.viewport.h * 4\n            })\n                .setTween(pepeTweener)\n                .addTo(this.scroller);\n\n            // foothold on arts\n            this.timeLines[6]\n                .set('#biz1 .container', {autoAlpha: 0})\n                .to('.pepe-scenery', 8, {autoAlpha: 1});\n        },\n        sceneFloatingHead(){\n            // first company\n            this.timeLines[7]\n                .addLabel('start', 0);\n        },\n        sceneSunset(){\n            // porta, kibe etc.\n            this.timeLines[8]\n                .set('#Mario .container', {autoAlpha: 0})\n                .to('.pepe-scenery', 8, {autoAlpha: 0});\n        },\n        sceneArtPhiGames(){\n            this.timeLines[9]\n                .set('#Mario .container', {autoAlpha: 0})\n                .addLabel('start', 1)\n                .to('#ArtPhiGamesTitle .title-container', 1, {autoAlpha: 1})\n                .staggerFrom('#ArtPhiGamesTitle .title .line', 4, {\n                    yPercent: -50,\n                    autoAlpha: 0,\n                    rotationX: 90,\n                    transformOrigin: '50% 50% -100px',\n                    ease: Power3.easeOut,\n                    stagger: .5\n                })\n                .from('#ArtPhiGamesTitle .std', 4, {\n                    yPercent: 50,\n                    autoAlpha: 0,\n                    rotationX: -90,\n                    transformOrigin: '50% 50% 100px',\n                    ease: Power3.easeOut,\n                }, '-=1')\n                .to('#ArtPhiGamesTitle .title, #ArtPhiGamesTitle .std', 3, {\n                    yPercent: -100,\n                    autoAlpha: 0,\n                })\n                .set('#earlyTitle .title-container', {autoAlpha: 1});\n        },\n        sceneMario(){\n            // Mario\n            // using the tweener here\n            // because I need to be precise about time, and the momentum would ruin it\n            this.tweeners[10]\n                .to('#earlyTitle .title-container', .5, {autoAlpha: 0}) // fix reverse scroll and help time the mario trigger\n                .to('#Mario .container', 1, {\n                    autoAlpha: 1,\n                    zIndex: 4,\n                    onComplete: () => Mario.action(),\n                });\n            this.timeLines[10].set('.mario', {yPercent: 200, autoAlpha: 0});\n        },\n        sceneGhibli(){\n            // Ghibli Grass parallax\n            let grassTimeline = new TimelineMax({paused: true}),\n                grassTweener = new TimelineMax();\n\n            grassTweener\n                .to('.pepe', 20, {rotation: 0})\n                .eventCallback('onUpdate', () => {\n                    TweenLite.to(grassTimeline, 2, {\n                        progress: grassTweener.progress(),\n                        ease: Power3.easeOut\n                    });\n                });\n\n            grassTimeline\n                .addLabel('start', 0)\n                .to('#Ghibli .grass1', 20, {\n                    yPercent: 10,\n                    xPercent: -100,\n                    ease: Power1.easeIn,\n                }, 'start')\n                .to('#Ghibli .grass2', 20, {\n                    yPercent: 10,\n                    xPercent: 100,\n                    ease: Power1.easeIn,\n                }, 'start')\n                .addLabel('start');\n\n            new ScrollMagic.Scene({\n                triggerElement: '#Ghibli',\n                offset: -this.viewport.h / 2,\n                duration: this.viewport.h * 4\n            })\n                .setTween(grassTweener)\n                .addTo(this.scroller);\n\n            // Ghibli Clouds parallax\n            let gCloudsTimeline = new TimelineMax({paused: true}),\n                gCloudsTweener = new TimelineMax();\n\n            gCloudsTweener\n                .to('.pepe', 20, {rotation: 0})\n                .eventCallback('onUpdate', () => {\n                    TweenLite.to(gCloudsTimeline, 6, {\n                        progress: gCloudsTweener.progress(),\n                        ease: Power3.easeOut\n                    });\n                });\n\n            gCloudsTimeline\n                .addLabel('start', 0)\n                .set('#Ghibli .sky .c1, #Ghibli .sky .c2', {yPercent: 50})\n                .to('#Ghibli .sky .c1', 20, {\n                    yPercent: 10,\n                    xPercent: -50,\n                    scale: 1.5,\n                    ease: Power1.easeIn,\n                }, 'start')\n                .to('#Ghibli .sky .c2', 20, {\n                    yPercent: 0,\n                    // xPercent: 50,\n                    scale: 1.5,\n                    ease: Power1.easeIn,\n                }, 'start');\n\n            new ScrollMagic.Scene({\n                triggerElement: '#Ghibli',\n                offset: -this.viewport.h / 2,\n                duration: this.viewport.h * 4\n            })\n                .setTween(gCloudsTweener)\n                .addTo(this.scroller);\n\n            // Howl's Moving Castle parallax\n            let castleTimeline = new TimelineMax({paused: true}),\n                castleTweener = new TimelineMax(),\n                castleLength = '-120vw';\n\n            if (this.viewport.is568) castleLength = '-' + (window.innerWidth + document.querySelector('.castle-container').offsetWidth + 16) + 'px';\n\n            castleTweener\n                .to('.pepe', 20, {rotation: 0})\n                .eventCallback('onUpdate', () => {\n                    TweenLite.to(castleTimeline, 3, {\n                        progress: castleTweener.progress(),\n                        ease: Power3.easeOut\n                    });\n                });\n\n            castleTimeline\n                .to('.castle-container', 10, {\n                    x: castleLength,\n                    y: '-70vh',\n                    scale: .5,\n                });\n\n            new ScrollMagic.Scene({\n                triggerElement: '#Ghibli',\n                duration: this.viewport.h * 5\n            })\n                .setTween(castleTweener)\n                .addTo(this.scroller);\n\n            // Ghibli 1\n            this.timeLines[11]\n                .addLabel('start', 0)\n                .to('#Mario .container', 4, {autoAlpha: 0}, 'start')\n                .to('#Ghibli .container', 4, {autoAlpha: 1}, 'start');\n\n            // Ghibli 2 (gap)\n            this.timeLines[12]\n                .addLabel('start', 0);\n\n            // Ghibli 3 (gap)\n            this.timeLines[13]\n                .addLabel('start', 0);\n\n            // Ghibli 4 (gap)\n            this.timeLines[14]\n                .addLabel('start', 0);\n        },\n        sceneWrapper(){\n            this.timeLines[15]\n                .addLabel('start', 0)\n                .to('#Ghibli .container', 2, {autoAlpha: 0}, 'start')\n                .from('#wrapperTitle .static-container', 2, {autoAlpha: 1});\n        },\n    },\n    components: {\n        Intro,\n        Titles,\n        Biz,\n        EarlyDays,\n        SuperMario,\n        Ghibli,\n        Wrapper,\n        Thanks,\n    }\n};\n",{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div id=\"home\" class=\"wrapper\">\n\n        <!--intro-->\n        <Intro />\n\n        <div class=\"gap\"></div>\n\n        <!--Title: CurriculumVitae()-->\n        <Titles :viewport=\"viewport\" scene=\"curriculum\">\n            <h1 class=\"title\" v-if=\"viewport.is768\">\n                Curriculum<br>\n                .vitae(<span class=\"params\">'/.*$/g'</span>)\n            </h1>\n            <h1 class=\"title\" v-else>\n                CurriculumVitae(<span class=\"params\">'/.*$/g'</span>)\n            </h1>\n            <div class=\"std\">\n                <p class=\"-gray\">&lt;A life+work showcase&gt;</p>\n            </div>\n        </Titles>\n\n        <!--biz commerce scenes-->\n        <Biz :viewport=\"viewport\" />\n        <div class=\"gap\"></div>\n\n        <!--early days scenes-->\n        <EarlyDays :viewport=\"viewport\" />\n        <div class=\"gap\"></div>\n\n        <!--Title: Art Phi Games-->\n        <Titles :viewport=\"viewport\" scene=\"ArtPhiGamesTitle\">\n            <h1 class=\"title\">\n                <span class=\"line\"><span class=\"params\">`${</span>Art<span class=\"params\">}</span></span>\n                <span class=\"line\"><span class=\"params\">&nbsp;${</span>Philosophy<span class=\"params\">}</span></span>\n                <span class=\"line\"><span class=\"params\">&nbsp;${</span>VideoGames<span class=\"params\">}`</span></span>\n            </h1>\n            <div class=\"std\">\n                <p class=\"-gray\">background.bmp</p>\n            </div>\n        </Titles>\n\n        <!--mario-->\n        <SuperMario />\n        <div class=\"gap\"></div>\n\n        <!--ghibli-->\n        <Ghibli />\n\n        <!--wrapper-->\n        <Wrapper />\n\n        <!--thanks-->\n        <Thanks />\n\n    </div>\n</template>\n\n<script>\n    // style\n    import '@/styles/home.scss';\n    // ScrollMagic\n    import * as ScrollMagic from \"scrollmagic\";\n    // components\n    import Intro from \"@/components/Home/Intro.vue\";\n    import Titles from \"@/components/Home/Titles.vue\";\n    import Biz from \"@/components/Home/Biz.vue\";\n    import EarlyDays from \"@/components/Home/EarlyDays.vue\";\n    import SuperMario from \"@/components/Home/SuperMario.vue\";\n    import Ghibli from \"@/components/Home/Ghibli.vue\";\n    import Wrapper from \"@/components/Home/Wrapper.vue\";\n    import Thanks from \"@/components/Home/Thanks.vue\";\n    // loop animations (depend on each scene!!!)\n    // @TODO improve\n    import BizBiz from \"@/js/abiz\";\n    import BizAstro from \"@/js/astro\";\n    import BizCoffee from \"@/js/coffee\";\n    import BizET from \"@/js/et\";\n    import BizDino from \"@/js/dino\";\n    import BizFilomena from \"@/js/filomena\";\n    import BizOcto from \"@/js/octo\";\n    import BizZen from \"@/js/zen\";\n    import BizShapes from \"@/js/shapes\";\n    import Potion from \"@/js/potion\";\n    import Pepe from \"@/js/pepe\";\n    import Mario from \"@/js/mario\";\n    import Castle from \"@/js/ghibli\";\n\n    export default {\n        name: 'home',\n        props: {\n            viewport: Object,\n        },\n        data() {\n            return {\n                intro: new TimelineMax(),\n                scroller: new ScrollMagic.Controller(),\n                scenes: [],\n                timeLines: [],\n                tweeners: [],\n            }\n        },\n        created() {\n            // before leaving the page, in case of refresh\n            window.addEventListener(\"beforeunload\", () => window.scroll(0, 0));\n        },\n        mounted() {\n\n            /**\n             * @TODO code split animations\n             *       optimize code\n             *       better Mario commands\n             */\n\n            // 01. play Intro\n            this.playIntro();\n            // 02. setup time lines and scenes\n            this.setupScenes();\n            // 03. build loop animations for each character\n            this.buildLoops();\n            // 04. Hook loops to ScrollMagic Scenes\n            this.hookLoops();\n            // 05. Animate every scene on scroll\n            this.sceneCurriculumVitae();\n            // biz(2011,2019)\n            this.sceneBizTitle();\n            this.sceneBizZen();\n            this.sceneBizEverybody();\n            this.sceneBizEnding();\n            // EarlyDays(2008,2011)\n            this.sceneEarlyDays();\n            this.sceneOcean();\n            this.sceneFloatingHead();\n            this.sceneSunset();\n            // ${Art} ${Philosophy} ${VideoGames}\n            this.sceneArtPhiGames();\n            this.sceneMario();\n            this.sceneGhibli();\n            // </wrapper>\n            this.sceneWrapper();\n\n        },\n        beforeDestroy() {\n\n            // stop loop animations\n            BizBiz.stop();\n            BizAstro.stop();\n            BizCoffee.stop();\n            BizDino.stop();\n            BizET.stop();\n            BizFilomena.stop();\n            BizOcto.stop();\n            BizShapes.stop();\n            BizZen.stop();\n            Castle.stop();\n            Pepe.stop();\n            Potion.stop();\n            Mario.stop();\n            // kill time lines\n            this.timeLines.map(tl => tl.kill());\n            // destroy ScrollMagic controller\n            this.scroller.destroy();\n\n        },\n        methods: {\n            setupScenes() {\n                /**\n                 * @desc\n                 * Where the magic happens\n                 *\n                 * add tweeners to the scenes,\n                 * then to the ScrollMagic controller,\n                 * and then the tweeners will tween the time lines.\n                 *\n                 * This way I can synchronize scenes to the HTML content\n                 * and keep the momentum effect on all browsers\n                 */\n                const scenesElements = document.querySelectorAll(\".scene\");\n                for (let [i, scenesElement] of Array.from(scenesElements).entries()) {\n                    // tweeners, to animate the time lines' progress, to add momentum\n                    this.tweeners[i] = new TimelineMax();\n                    // time lines\n                    this.timeLines[i] = new TimelineMax({paused: true});\n                    // create scenes on ScrollMagic\n                    this.scenes[i] = new ScrollMagic.Scene({\n                        // trigger on the scene element\n                        triggerElement: scenesElement,\n                        // start half screen before\n                        offset: -this.viewport.h / 2,\n                        // lasts for the scene element height\n                        duration: scenesElement.offsetHeight\n                    })\n                        .setTween(this.tweeners[i])\n                        .addTo(this.scroller)\n                        .reverse(true)\n                        .setClassToggle(scenesElement, \"active\");\n                    // animate the progress in the time lines\n                    this.tweeners[i]\n                        .to(scenesElement, 1, {autoAlpha: 1}) // fake, just to have some progress\n                        .eventCallback('onUpdate', event => {\n                            TweenLite.to(this.timeLines[i], .5, {\n                                progress: this.tweeners[i].progress(),\n                                ease: Power0.easeNone\n                            });\n                        });\n                }\n            },\n            playIntro() {\n                /**\n                 * @desc\n                 * intro scene\n                 */\n                this.intro\n                    .addLabel('enter', 1)\n                    .from('#intro .title', 2, {\n                        autoAlpha: 0,\n                        rotationX: 90,\n                        transformOrigin: '50% 50% -100px',\n                        ease: Power3.easeOut,\n                    }, 'enter')\n                    .from('#intro .std', 2, {\n                        autoAlpha: 0,\n                        x: -32,\n                        ease: Power3.easeOut,\n                    }, 'enter+=1.5');\n            },\n            hookLoops() {\n                /**\n                 * @desc\n                 * play and stop loop animations\n                 * based on the scenes been played\n                 */\n                this.scenes[0]\n                    .on('enter', (e) => {\n                        if (e.scrollDirection === 'FORWARD') {\n                        }\n                        if (e.scrollDirection === 'REVERSE') {\n                            BizBiz.stop();\n                            BizShapes.stop();\n                        }\n                    });\n                this.scenes[1]\n                    .on('enter', (e) => {\n                        if (e.scrollDirection === 'FORWARD') {\n                            BizBiz.play();\n                            BizShapes.play();\n                        }\n                        if (e.scrollDirection === 'REVERSE') {\n                            BizZen.stop();\n                        }\n                    });\n                this.scenes[2]\n                    .on('enter', (e) => {\n                        if (e.scrollDirection === 'FORWARD') {\n                            BizZen.play();\n                        }\n                        if (e.scrollDirection === 'REVERSE') {\n                            BizBiz.play();\n                            BizShapes.play();\n\n                            BizFilomena.stop();\n                            BizDino.stop();\n                            BizET.stop();\n                            BizOcto.stop();\n                            BizAstro.stop();\n                            BizCoffee.stop();\n                        }\n                    });\n                this.scenes[3]\n                    .on('enter', (e) => {\n                        if (e.scrollDirection === 'FORWARD') {\n                            BizBiz.stop();\n                            BizShapes.stop();\n\n                            BizFilomena.play();\n                            BizDino.play();\n                            BizET.play();\n                            BizOcto.play();\n                            BizAstro.play();\n                            BizCoffee.play();\n                        }\n                        if (e.scrollDirection === 'REVERSE') {\n                            BizZen.play();\n                        }\n                    });\n                this.scenes[4]\n                    .on('enter', (e) => {\n                        if (e.scrollDirection === 'FORWARD') {\n                            BizZen.stop();\n                        }\n                        if (e.scrollDirection === 'REVERSE') {\n                            BizFilomena.play();\n                            BizDino.play();\n                            BizET.play();\n                            BizOcto.play();\n                        }\n                    });\n                this.scenes[5]\n                    .on('enter', (e) => {\n                        if (e.scrollDirection === 'FORWARD') {\n                            BizFilomena.stop();\n                            BizDino.stop();\n                            BizET.stop();\n                            BizOcto.stop();\n                        }\n                        if (e.scrollDirection === 'REVERSE') {\n                            BizAstro.play();\n                            BizCoffee.play();\n\n                            Pepe.stop();\n                        }\n                    });\n                this.scenes[6]\n                    .on('enter', (e) => {\n                        if (e.scrollDirection === 'FORWARD') {\n                            BizAstro.stop();\n                            BizCoffee.stop();\n\n                            Pepe.play();\n                        }\n                        if (e.scrollDirection === 'REVERSE') {\n                        }\n                    });\n                // 7\n                // 8\n                this.scenes[9]\n                    .on('enter', (e) => {\n                        if (e.scrollDirection === 'FORWARD') {\n                        }\n                        if (e.scrollDirection === 'REVERSE') {\n                            Pepe.play();\n                            // release mario body lock and remove bg\n                            document.body.classList.remove('-mario-lock', '-mario-bg');\n                        }\n                    });\n                this.scenes[10] /** @Mario **/\n                    .on('enter', (e) => {\n                        if (e.scrollDirection === 'FORWARD') {\n                            Pepe.stop();\n                            // mario bg is added inside mario.js\n                        }\n                        if (e.scrollDirection === 'REVERSE') {\n                            // add bg just in case\n                            document.body.classList.add('-mario-bg');\n                        }\n                    })\n                    .on('leave', (e) => {\n                        if (e.scrollDirection === 'FORWARD') {\n                        }\n                        if (e.scrollDirection === 'REVERSE') {\n                            Castle.stop();\n                        }\n                    });\n                this.scenes[11]\n                    .on('enter', (e) => {\n                        if (e.scrollDirection === 'FORWARD') {\n                            Castle.play();\n                            // release mario body lock\n                            document.body.classList.remove('-mario-lock');\n                        }\n                        if (e.scrollDirection === 'REVERSE') {\n                        }\n\n                        // add bg just in case in both directions\n                        document.body.classList.add('-mario-bg');\n                    });\n                this.scenes[12]\n                    .on('enter', (e) => {\n                        // add bg just in case in both directions\n                        document.body.classList.add('-mario-bg');\n                    });\n                this.scenes[13]\n                    .on('enter', (e) => {\n                        // add bg just in case in both directions\n                        document.body.classList.add('-mario-bg');\n                    });\n                this.scenes[14]\n                    .on('enter', (e) => {\n                        // add bg just in case in both directions\n                        document.body.classList.add('-mario-bg');\n                    });\n                this.scenes[15]\n                    .on('enter', (e) => {\n                        if (e.scrollDirection === 'FORWARD') {\n                            // remove bg\n                            document.body.classList.remove('-mario-bg');\n                        }\n                        if (e.scrollDirection === 'REVERSE') {\n                            Castle.play();\n\n                            Potion.stop();\n                        }\n                    })\n                    .on('leave', (e) => {\n                        if (e.scrollDirection === 'FORWARD') {\n                        }\n                        if (e.scrollDirection === 'REVERSE') {\n                            // add bg\n                            document.body.classList.add('-mario-bg');\n                        }\n                    });\n                ;\n                this.scenes[16]\n                    .on('enter', (e) => {\n                        if (e.scrollDirection === 'FORWARD') {\n                            Castle.stop();\n\n                            Potion.play();\n                        }\n                        if (e.scrollDirection === 'REVERSE') {\n                        }\n                    });\n            },\n            buildLoops() {\n                /**\n                 * @desc\n                 * mount loop animations\n                 */\n                BizBiz.build();\n                BizAstro.build();\n                BizCoffee.build();\n                BizDino.build();\n                Castle.build();\n                Potion.build();\n                BizShapes.build();\n                if (this.viewport.is568) {\n                    Castle.build568();\n                } else {\n                    Castle.build();\n                }\n                if (this.viewport.is568) {\n                    Pepe.build568();\n                } else if (this.viewport.is1024) {\n                    Pepe.build1024();\n                } else {\n                    Pepe.build();\n                }\n                if (!this.viewport.is1024) {\n                    BizFilomena.build();\n                    BizOcto.build();\n                }\n                if (!this.viewport.is768) BizET.build();\n                if (!this.viewport.is568) BizZen.build();\n            },\n            sceneCurriculumVitae(){\n                /**\n                 * @desc\n                 * Scrolling animations time lines\n                 */\n                // CurriculumVitae()\n                this.timeLines[0]\n                    .set('#curriculum .title-container', {autoAlpha: 1}) // show animations\n                    .addLabel('start', 0)\n                    .from('#curriculum .title', 2, {\n                        yPercent: -50,\n                        autoAlpha: 0,\n                        rotationX: 90,\n                        transformOrigin: '50% 50% -100px',\n                        ease: Power3.easeOut,\n                    }, 'start')\n                    .from('#curriculum .std', 2, {\n                        yPercent: 50,\n                        autoAlpha: 0,\n                        rotationX: -90,\n                        transformOrigin: '50% 50% -100px',\n                        ease: Power3.easeOut,\n                    }, 'start')\n                    .to('#curriculum .title, #curriculum .std', 2, {\n                        autoAlpha: 0,\n                        yPercent: -100\n                    });\n            },\n            sceneBizTitle(){\n                // biz()\n                this.timeLines[1]\n                // next scene characters\n                    .set('#filomena', {\n                        autoAlpha: 0,\n                        scale: 0,\n                        xPercent: 600,\n                        yPercent: 100,\n                    })\n                    .set('#dino', {\n                        scale: 0,\n                        xPercent: 400,\n                        yPercent: 100,\n                    })\n                    .set('#astro, #coffee, #et, #octo', {\n                        autoAlpha: 0,\n                        scale: 0,\n                        xPercent: 400,\n                        yPercent: 100,\n                    })\n                    // this scene\n                    .set('#bizTitle .title-container, #biz1 .container', {autoAlpha: 1})\n                    .addLabel('start', 0)\n                    .from('#bizTitle .title', 6, {\n                        yPercent: -50,\n                        autoAlpha: 0,\n                        rotationX: 90,\n                        transformOrigin: '50% 50% -100px',\n                        ease: Power3.easeOut,\n                    }, 'start')\n                    .to('#bizTitle .title', 6, {\n                        autoAlpha: 0,\n                        yPercent: -100,\n                    })\n                    .staggerFrom('#smart, #open', 6, {\n                        autoAlpha: 0,\n                        scale: 0,\n                        ease: Power3.easeOut,\n                    }, .2, 'start+=2')\n                    .from('#abiz', 6, {\n                        scale: 0,\n                    }, 'start+=2');\n            },\n            sceneBizZen(){\n                // Biz Commerce 1\n                this.timeLines[2]\n                    .addLabel('start', 0)\n                    .from('#zen', 4, {\n                        xPercent: 70,\n                        ease: Power3.easeOut,\n                    }, 'start')\n                    .to('#abiz', 4, {\n                        autoAlpha: 0,\n                        xPercent: -100,\n                        ease: Power3.easeIn,\n                    }, 'start')\n                    .staggerTo('#smart, #open', 4, {\n                        autoAlpha: 0,\n                        scale: 0,\n                        ease: Power3.easeOut,\n                    }, .2, 'start');\n            },\n            sceneBizEverybody(){\n                // Biz Commerce 2\n                this.timeLines[3]\n                    .addLabel('start', 0)\n                    .to('#zen', 4, {\n                        yPercent: 130,\n                        ease: Power3.easeIn,\n                    }, 'start')\n                    .staggerTo('#dino, #astro, #coffee, #et, #filomena, #octo', 5, {\n                        autoAlpha: 1,\n                        scale: 1,\n                        xPercent: 0,\n                        yPercent: 0,\n                        ease: Power3.easeOut\n                    }, .2, 'start');\n            },\n            sceneBizEnding(){\n                // Biz Commerce 3\n                this.timeLines[4]\n                    .addLabel('start', 0)\n                    .to('#dino', 6, {\n                        yPercent: 200,\n                        scale: 1.5,\n                        ease: Power3.easeIn,\n                    }, 'start')\n                    .to('#et', 6, {\n                        xPercent: -250,\n                        yPercent: -100,\n                        autoAlpha: 0,\n                        ease: Power3.easeIn,\n                    }, 'start')\n                    .to('#filomena', 6, {\n                        xPercent: -300,\n                        yPercent: 300,\n                        autoAlpha: 0,\n                        ease: Power3.easeIn,\n                    }, 'start')\n                    .to('#octo', 6, {\n                        xPercent: -650,\n                        yPercent: 400,\n                        autoAlpha: 0,\n                        ease: Power3.easeIn,\n                    }, 'start')\n                    .to('#astro', 12, {\n                        bottom: '-10vh',\n                        right: '-10vw',\n                        scale: 4,\n                        ease: Power3.easeInOut,\n                    }, 'start')\n                    .to('#coffee', 12, {\n                        top: '8rem',\n                        left: 0,\n                        scale: 4,\n                        ease: Power3.easeInOut,\n                    }, 'start');\n            },\n            sceneEarlyDays(){\n                // Clouds parallax\n                let cloudsTimeline = new TimelineMax({paused: true}),\n                    cloudsTweener = new TimelineMax();\n                cloudsTweener\n                    .to('.cloud-1', 20, {rotation: 0})\n                    .eventCallback('onUpdate', () => {\n                        TweenLite.to(cloudsTimeline, 4, {\n                            progress: cloudsTweener.progress(),\n                            ease: Power3.easeOut\n                        });\n                    });\n\n                cloudsTimeline\n                    .addLabel('start', 0)\n                    .fromTo('.cloud-1', 10, {\n                        yPercent: 50,\n                        xPercent: 20,\n                    }, {\n                        yPercent: -85,\n                        xPercent: -20,\n                    }, 'action')\n                    .fromTo('.cloud-2', 10, {\n                        yPercent: 40,\n                        xPercent: -10,\n                    }, {\n                        yPercent: -40,\n                        xPercent: 85,\n                    }, 'action')\n                    .fromTo('.cloud-3', 10, {\n                        yPercent: 70,\n                        xPercent: 40,\n                    }, {\n                        yPercent: -85,\n                        xPercent: -40,\n                    }, 'action');\n\n                new ScrollMagic.Scene({\n                    triggerElement: '#earlyTitle',\n                    offset: -this.viewport.h / 2,\n                    duration: this.viewport.h * 3.5\n                })\n                    .setTween(cloudsTweener)\n                    .addTo(this.scroller);\n\n                // EarlyDays()\n                this.timeLines[5]\n                    .set('.pepe-scenery', {autoAlpha: 0})\n                    .set('#biz1 .container', {autoAlpha: 1})\n                    .addLabel('start', 0)\n                    .to('#astro', 4, {\n                        yPercent: 600,\n                        xPercent: 200,\n                        ease: Power2.easeIn,\n                    }, 'start')\n                    .to('#coffee', 4, {\n                        yPercent: -600,\n                        xPercent: -200,\n                        ease: Power2.easeIn,\n                    }, 'start')\n                    .to('#earlyTitle .title-container', 2, {autoAlpha: 1}, 'start')\n                    .from('#earlyTitle .title', 4, {\n                        yPercent: -50,\n                        autoAlpha: 0,\n                        rotationX: 90,\n                        transformOrigin: '50% 50% -100px',\n                        ease: Power3.easeOut,\n                    }, 'start')\n                    .from('#earlyTitle .std', 4, {\n                        yPercent: 50,\n                        autoAlpha: 0,\n                        rotationX: -90,\n                        transformOrigin: '50% 50% 100px',\n                        ease: Power3.easeOut,\n                    }, 'start')\n                    .to('#earlyTitle .title, #earlyTitle .std', 4, {\n                        autoAlpha: 0,\n                        yPercent: -100,\n                    });\n            },\n            sceneOcean(){\n                // Pepe parallax\n                let pepeTimeline = new TimelineMax({paused: true}),\n                    pepeTweener = new TimelineMax(),\n                    pepeLength = window.innerWidth + document.querySelector('.pepe').offsetWidth + 16;\n\n                pepeTweener\n                    .to('.pepe', 20, {rotation: 0})\n                    .eventCallback('onUpdate', () => {\n                        TweenLite.to(pepeTimeline, 4, {\n                            progress: pepeTweener.progress(),\n                            ease: Power3.easeOut\n                        });\n                    });\n\n                pepeTimeline\n                    .addLabel('start')\n                    .to('.pepe', 10, {\n                        x: `-${pepeLength}px`,\n                        scale: .5\n                    }, 'start');\n\n                new ScrollMagic.Scene({\n                    triggerElement: '#early-days2',\n                    offset: -this.viewport.h / 2,\n                    duration: this.viewport.h * 4\n                })\n                    .setTween(pepeTweener)\n                    .addTo(this.scroller);\n\n                // foothold on arts\n                this.timeLines[6]\n                    .set('#biz1 .container', {autoAlpha: 0})\n                    .to('.pepe-scenery', 8, {autoAlpha: 1});\n            },\n            sceneFloatingHead(){\n                // first company\n                this.timeLines[7]\n                    .addLabel('start', 0);\n            },\n            sceneSunset(){\n                // porta, kibe etc.\n                this.timeLines[8]\n                    .set('#Mario .container', {autoAlpha: 0})\n                    .to('.pepe-scenery', 8, {autoAlpha: 0});\n            },\n            sceneArtPhiGames(){\n                this.timeLines[9]\n                    .set('#Mario .container', {autoAlpha: 0})\n                    .addLabel('start', 1)\n                    .to('#ArtPhiGamesTitle .title-container', 1, {autoAlpha: 1})\n                    .staggerFrom('#ArtPhiGamesTitle .title .line', 4, {\n                        yPercent: -50,\n                        autoAlpha: 0,\n                        rotationX: 90,\n                        transformOrigin: '50% 50% -100px',\n                        ease: Power3.easeOut,\n                        stagger: .5\n                    })\n                    .from('#ArtPhiGamesTitle .std', 4, {\n                        yPercent: 50,\n                        autoAlpha: 0,\n                        rotationX: -90,\n                        transformOrigin: '50% 50% 100px',\n                        ease: Power3.easeOut,\n                    }, '-=1')\n                    .to('#ArtPhiGamesTitle .title, #ArtPhiGamesTitle .std', 3, {\n                        yPercent: -100,\n                        autoAlpha: 0,\n                    })\n                    .set('#earlyTitle .title-container', {autoAlpha: 1});\n            },\n            sceneMario(){\n                // Mario\n                // using the tweener here\n                // because I need to be precise about time, and the momentum would ruin it\n                this.tweeners[10]\n                    .to('#earlyTitle .title-container', .5, {autoAlpha: 0}) // fix reverse scroll and help time the mario trigger\n                    .to('#Mario .container', 1, {\n                        autoAlpha: 1,\n                        zIndex: 4,\n                        onComplete: () => Mario.action(),\n                    });\n                this.timeLines[10].set('.mario', {yPercent: 200, autoAlpha: 0});\n            },\n            sceneGhibli(){\n                // Ghibli Grass parallax\n                let grassTimeline = new TimelineMax({paused: true}),\n                    grassTweener = new TimelineMax();\n\n                grassTweener\n                    .to('.pepe', 20, {rotation: 0})\n                    .eventCallback('onUpdate', () => {\n                        TweenLite.to(grassTimeline, 2, {\n                            progress: grassTweener.progress(),\n                            ease: Power3.easeOut\n                        });\n                    });\n\n                grassTimeline\n                    .addLabel('start', 0)\n                    .to('#Ghibli .grass1', 20, {\n                        yPercent: 10,\n                        xPercent: -100,\n                        ease: Power1.easeIn,\n                    }, 'start')\n                    .to('#Ghibli .grass2', 20, {\n                        yPercent: 10,\n                        xPercent: 100,\n                        ease: Power1.easeIn,\n                    }, 'start')\n                    .addLabel('start');\n\n                new ScrollMagic.Scene({\n                    triggerElement: '#Ghibli',\n                    offset: -this.viewport.h / 2,\n                    duration: this.viewport.h * 4\n                })\n                    .setTween(grassTweener)\n                    .addTo(this.scroller);\n\n                // Ghibli Clouds parallax\n                let gCloudsTimeline = new TimelineMax({paused: true}),\n                    gCloudsTweener = new TimelineMax();\n\n                gCloudsTweener\n                    .to('.pepe', 20, {rotation: 0})\n                    .eventCallback('onUpdate', () => {\n                        TweenLite.to(gCloudsTimeline, 6, {\n                            progress: gCloudsTweener.progress(),\n                            ease: Power3.easeOut\n                        });\n                    });\n\n                gCloudsTimeline\n                    .addLabel('start', 0)\n                    .set('#Ghibli .sky .c1, #Ghibli .sky .c2', {yPercent: 50})\n                    .to('#Ghibli .sky .c1', 20, {\n                        yPercent: 10,\n                        xPercent: -50,\n                        scale: 1.5,\n                        ease: Power1.easeIn,\n                    }, 'start')\n                    .to('#Ghibli .sky .c2', 20, {\n                        yPercent: 0,\n                        // xPercent: 50,\n                        scale: 1.5,\n                        ease: Power1.easeIn,\n                    }, 'start');\n\n                new ScrollMagic.Scene({\n                    triggerElement: '#Ghibli',\n                    offset: -this.viewport.h / 2,\n                    duration: this.viewport.h * 4\n                })\n                    .setTween(gCloudsTweener)\n                    .addTo(this.scroller);\n\n                // Howl's Moving Castle parallax\n                let castleTimeline = new TimelineMax({paused: true}),\n                    castleTweener = new TimelineMax(),\n                    castleLength = '-120vw';\n\n                if (this.viewport.is568) castleLength = '-' + (window.innerWidth + document.querySelector('.castle-container').offsetWidth + 16) + 'px';\n\n                castleTweener\n                    .to('.pepe', 20, {rotation: 0})\n                    .eventCallback('onUpdate', () => {\n                        TweenLite.to(castleTimeline, 3, {\n                            progress: castleTweener.progress(),\n                            ease: Power3.easeOut\n                        });\n                    });\n\n                castleTimeline\n                    .to('.castle-container', 10, {\n                        x: castleLength,\n                        y: '-70vh',\n                        scale: .5,\n                    });\n\n                new ScrollMagic.Scene({\n                    triggerElement: '#Ghibli',\n                    duration: this.viewport.h * 5\n                })\n                    .setTween(castleTweener)\n                    .addTo(this.scroller);\n\n                // Ghibli 1\n                this.timeLines[11]\n                    .addLabel('start', 0)\n                    .to('#Mario .container', 4, {autoAlpha: 0}, 'start')\n                    .to('#Ghibli .container', 4, {autoAlpha: 1}, 'start');\n\n                // Ghibli 2 (gap)\n                this.timeLines[12]\n                    .addLabel('start', 0);\n\n                // Ghibli 3 (gap)\n                this.timeLines[13]\n                    .addLabel('start', 0);\n\n                // Ghibli 4 (gap)\n                this.timeLines[14]\n                    .addLabel('start', 0);\n            },\n            sceneWrapper(){\n                this.timeLines[15]\n                    .addLabel('start', 0)\n                    .to('#Ghibli .container', 2, {autoAlpha: 0}, 'start')\n                    .from('#wrapperTitle .static-container', 2, {autoAlpha: 1});\n            },\n        },\n        components: {\n            Intro,\n            Titles,\n            Biz,\n            EarlyDays,\n            SuperMario,\n            Ghibli,\n            Wrapper,\n            Thanks,\n        }\n    };\n</script>\n"]}]}