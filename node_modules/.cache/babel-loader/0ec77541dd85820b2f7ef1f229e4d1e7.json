{"remainingRequest":"/Users/rookasrudzianskas/Documents/46_VUE/01_PORTFOLIO/node_modules/babel-loader/lib/index.js!/Users/rookasrudzianskas/Documents/46_VUE/01_PORTFOLIO/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/rookasrudzianskas/Documents/46_VUE/01_PORTFOLIO/src/js/mario.js","dependencies":[{"path":"/Users/rookasrudzianskas/Documents/46_VUE/01_PORTFOLIO/src/js/mario.js","mtime":1558428182000},{"path":"/Users/rookasrudzianskas/Documents/46_VUE/01_PORTFOLIO/node_modules/cache-loader/dist/cjs.js","mtime":1624884932294},{"path":"/Users/rookasrudzianskas/Documents/46_VUE/01_PORTFOLIO/node_modules/babel-loader/lib/index.js","mtime":1624884915153},{"path":"/Users/rookasrudzianskas/Documents/46_VUE/01_PORTFOLIO/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1624884927915}],"contextDependencies":[],"result":["// mario\nexport default {\n  tl: new TimelineMax(),\n  mariotl: new TimelineMax(),\n  bgmStart: null,\n  bgmStomp: null,\n  bgmEmpty: null,\n  bgmAppears: null,\n  bgmPowerUp: null,\n  bgmExit: null,\n  lastBox: 1,\n  coins: 1,\n  r: function r(min, max) {\n    return Math.random() * (max - min) + min;\n  },\n  accessibilityClick: function accessibilityClick(event) {\n    if (event.defaultPrevented) return;\n    var key = event.key || event.code;\n    if (key === '1' || key === 'Digit1') document.querySelector('.mario-box.b1 .in').click();\n    if (key === '2' || key === 'Digit2') document.querySelector('.mario-box.b2 .in').click();\n    if (key === '3' || key === 'Digit3') document.querySelector('.mario-box.b3 .in').click();\n  },\n  action: function action() {\n    var _this = this;\n\n    // skips\n    var m = document.getElementById('Mario');\n    if (!m) return false; // don't exist\n\n    if (!m.classList.contains('active')) return false; // not this scene\n\n    if (document.body.classList.contains('-bit16') || document.body.classList.contains('-mario-played')) {\n      // already played\n      // change BG\n      document.body.classList.add('-mario-bg');\n      return false;\n    } // build\n\n\n    this.lastBox = 1;\n    this.coins = 1;\n    this.bgmStart = document.getElementById('mario-start');\n    this.bgmStomp = document.getElementById('mario-stomp');\n    this.bgmEmpty = document.getElementById('mario-empty');\n    this.bgmAppears = document.getElementById('mario-appears');\n    this.bgmPowerUp = document.getElementById('mario-power-up');\n    this.bgmExit = document.getElementById('mario-exit');\n    var boxes = document.querySelectorAll('.mario-box'); // lock body scroll\n\n    document.body.classList.add('-mario-lock'); // play sound\n    // this.bgmStart.play();\n    // click boxes events\n\n    var _loop = function _loop(i) {\n      boxes[i].addEventListener('click', function (e) {\n        var box = e.target.parentNode; // skip\n\n        if (box.classList.contains('-off')) {\n          if (box.classList.contains('-full')) {\n            // animate box and play empty sound\n            _this.tl.clear(true).fromTo(box, .2, {\n              yPercent: -50\n            }, {\n              onStart: function onStart() {\n                return _this.bgmEmpty.play();\n              },\n              yPercent: 0,\n              ease: SteppedEase.config(2)\n            });\n          }\n\n          return false;\n        } // setup\n\n\n        var coin = null,\n            newCoin = new TimelineMax(); // animate mario jump + box\n\n        _this.marioJump(i); // is last box, found coins\n\n\n        if (boxes.length === _this.lastBox) {\n          // release body\n          document.body.classList.remove('-mario-lock');\n          document.body.classList.add('-mario-played'); // change BG\n\n          document.body.classList.add('-mario-bg'); // flag\n\n          box.classList.add('-jumped', '-full'); // Easter-Egging\n\n          if (_this.coins === 3) {\n            // just a tease to keep clicking\n            document.querySelector('#Mario .container').insertAdjacentHTML('beforeend', \"<div class=\\\"mario-coin-counter\\\">x3</div>\");\n          }\n\n          if (_this.coins > 3) {\n            // just a tease to keep clicking\n            document.querySelector('.mario-coin-counter').innerHTML = \"x\".concat(_this.coins);\n          } // found Easter-Egg\n\n\n          if (_this.coins === 16) {\n            // lock body\n            document.body.classList.add('-mario-easter-egg', '-bit16'); // flag\n\n            box.classList.add('-off'); // play stomp + wow + exit sounds\n\n            _this.bgmStomp.play();\n\n            _this.bgmStomp.onended = function () {\n              return _this.bgmPowerUp.play();\n            }; // show message\n\n\n            document.getElementById('home').insertAdjacentHTML('beforeend', \"\\n                            <div class=\\\"mario-msg-overlay\\\"></div>\\n                            <div class=\\\"mario-msg\\\">\\n                                Hooray! Thank you for jumping so many times! Now you got...<br>\\n                                <span class=\\\"-purple\\\">16 coins!</span><br>\\n                                &nbsp;<br>\\n                                Keep scrolling, you are near the end!\\n            \\n                                <div class=\\\"later\\\">\\n                                    ;)\\n                                    <button class=\\\"mario-msg-close\\\" type=\\\"button\\\" title=\\\"Close message\\\">\\u2715</button>\\n                                </div>\\n                            </div>\\n                        \"); // animate message\n\n            var msg = new TimelineMax();\n            msg.to('.mario-msg', 1, {\n              onStart: function onStart() {\n                return _this.bgmExit.play();\n              },\n              scale: 1,\n              ease: SteppedEase.config(12)\n            }).to('.mario-msg .later', .1, {\n              autoAlpha: 1,\n              onComplete: function onComplete() {\n                // hide message event\n                function hideMsg(event) {\n                  if (event.target.classList.contains('mario-msg-overlay') || event.target.classList.contains('mario-msg-close') || event.key === 'Escape' || event.code === 'Escape') {\n                    // hide & remove msg\n                    var tl = new TimelineMax();\n                    tl.to('.mario-msg, .mario-msg-overlay', 1, {\n                      scale: 0,\n                      ease: SteppedEase.config(12),\n                      onComplete: function onComplete() {\n                        document.getElementById('home').removeChild(document.querySelector('.mario-msg'));\n                        document.getElementById('home').removeChild(document.querySelector('.mario-msg-overlay'));\n                        document.querySelector('#Mario .container').removeChild(document.querySelector('.mario-coin-counter'));\n                      }\n                    }); // release body\n\n                    document.body.classList.remove('-mario-easter-egg');\n                  }\n                }\n\n                document.addEventListener('click', hideMsg);\n                window.addEventListener('keydow', hideMsg);\n              }\n            }, '+=4');\n            return false;\n          } // add coin\n\n\n          box.insertAdjacentHTML('beforeend', \"<div class=\\\"mario-coin c\".concat(_this.coins, \"\\\"></div>\"));\n          coin = document.querySelector(\".mario-coin.c\".concat(_this.coins)); // animate this coin\n\n          var xCoords = _this.r(-150, 150);\n\n          newCoin.set(coin, {\n            autoAlpha: 1,\n            xPercent: 0,\n            yPercent: 0\n          }).to(coin, .4, {\n            yPercent: -100\n          }).to(coin, 1, {\n            bezier: {\n              curviness: 1.25,\n              values: [{\n                xPercent: xCoords,\n                yPercent: _this.r(-150, -100)\n              }, {\n                xPercent: xCoords * 2,\n                yPercent: 800\n              }],\n              autoRotate: false\n            },\n            ease: SteppedEase.config(24),\n            onComplete: function onComplete() {\n              return box.removeChild(coin);\n            }\n          }); // next coin\n\n          _this.coins++; // play stomp + appears sound\n\n          _this.bgmStomp.currentTime = 0;\n\n          _this.bgmStomp.play();\n\n          _this.bgmStomp.onended = function () {\n            _this.bgmAppears.currentTime = 0;\n\n            _this.bgmAppears.play();\n          };\n\n          return false;\n        }\n\n        _this.lastBox++; // not last box, empty\n        // flag as empty\n\n        box.classList.add('-jumped', '-off'); // play stomp sound\n\n        _this.bgmStomp.play();\n\n        return false;\n      });\n    };\n\n    for (var i = 0; i < boxes.length; i++) {\n      _loop(i);\n    } // accessibility events\n\n\n    window.addEventListener('keydown', this.accessibilityClick);\n  },\n  stop: function stop() {\n    // garbage\n    window.removeEventListener('keydown', this.accessibilityClick);\n  },\n  // mario jump\n  marioJump: function marioJump(index) {\n    var box = document.querySelector(\".mario-box.b\".concat(index + 1)),\n        mario = document.querySelector('.mario'),\n        position = 25 * (index + 1);\n    this.mariotl.clear(true).set(mario, {\n      left: \"calc(\".concat(position, \"% - 64px)\"),\n      autoAlpha: 0\n    }).set(box, {\n      yPercent: 0\n    }) // mario\n    .fromTo(mario, .3, {\n      yPercent: 200,\n      xPercent: -150,\n      autoAlpha: 1\n    }, {\n      bezier: {\n        curviness: 1.25,\n        values: [{\n          xPercent: 0,\n          yPercent: 0\n        }, {\n          xPercent: 150,\n          yPercent: 200\n        }],\n        autoRotate: false\n      },\n      ease: SteppedEase.config(12)\n    }).set(mario, {\n      autoAlpha: 0\n    }) // box\n    .to(box, .07, {\n      yPercent: -50,\n      ease: SteppedEase.config(2)\n    }, '-=.15').to(box, .07, {\n      yPercent: 0,\n      ease: SteppedEase.config(2)\n    }, '-=.07');\n  }\n};",{"version":3,"sources":["/Users/rookasrudzianskas/Documents/46_VUE/01_PORTFOLIO/src/js/mario.js"],"names":["tl","TimelineMax","mariotl","bgmStart","bgmStomp","bgmEmpty","bgmAppears","bgmPowerUp","bgmExit","lastBox","coins","r","min","max","Math","random","accessibilityClick","event","defaultPrevented","key","code","document","querySelector","click","action","m","getElementById","classList","contains","body","add","boxes","querySelectorAll","i","addEventListener","e","box","target","parentNode","clear","fromTo","yPercent","onStart","play","ease","SteppedEase","config","coin","newCoin","marioJump","length","remove","insertAdjacentHTML","innerHTML","onended","msg","to","scale","autoAlpha","onComplete","hideMsg","removeChild","window","xCoords","set","xPercent","bezier","curviness","values","autoRotate","currentTime","stop","removeEventListener","index","mario","position","left"],"mappings":"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","sourcesContent":["// mario\nexport default {\n\n    tl: new TimelineMax(),\n    mariotl: new TimelineMax(),\n    bgmStart: null,\n    bgmStomp: null,\n    bgmEmpty: null,\n    bgmAppears: null,\n    bgmPowerUp: null,\n    bgmExit: null,\n    lastBox: 1,\n    coins: 1,\n\n    r(min, max) {\n        return Math.random() * (max - min) + min;\n    },\n\n    accessibilityClick(event){\n        if (event.defaultPrevented) return;\n\n        let key = event.key || event.code;\n\n        if (key === '1' || key === 'Digit1') document.querySelector('.mario-box.b1 .in').click();\n        if (key === '2' || key === 'Digit2') document.querySelector('.mario-box.b2 .in').click();\n        if (key === '3' || key === 'Digit3') document.querySelector('.mario-box.b3 .in').click();\n    },\n\n    action() {\n\n        // skips\n        let m = document.getElementById('Mario');\n        if(!m) return false; // don't exist\n        if(!m.classList.contains('active')) return false; // not this scene\n        if(\n            document.body.classList.contains('-bit16') ||\n            document.body.classList.contains('-mario-played')\n        ) {\n            // already played\n            // change BG\n            document.body.classList.add('-mario-bg');\n            return false;\n        }\n\n        // build\n        this.lastBox = 1;\n        this.coins = 1;\n        this.bgmStart = document.getElementById('mario-start');\n        this.bgmStomp = document.getElementById('mario-stomp');\n        this.bgmEmpty = document.getElementById('mario-empty');\n        this.bgmAppears = document.getElementById('mario-appears');\n        this.bgmPowerUp = document.getElementById('mario-power-up');\n        this.bgmExit = document.getElementById('mario-exit');\n        let boxes = document.querySelectorAll('.mario-box');\n\n        // lock body scroll\n        document.body.classList.add('-mario-lock');\n        // play sound\n        // this.bgmStart.play();\n\n        // click boxes events\n        for (let i = 0; i < boxes.length; i++) {\n            boxes[i].addEventListener('click', (e) => {\n\n                let box = e.target.parentNode;\n\n                // skip\n                if(box.classList.contains('-off')){\n                    if(box.classList.contains('-full')){\n                        // animate box and play empty sound\n                        this.tl\n                            .clear(true)\n                            .fromTo(box, .2, {\n                                yPercent: -50,\n                            },{\n                                onStart: () => this.bgmEmpty.play(),\n                                yPercent: 0,\n                                ease: SteppedEase.config(2)\n                            });\n                    }\n                    return false;\n                }\n\n                // setup\n                let coin = null,\n                    newCoin = new TimelineMax();\n\n                // animate mario jump + box\n                this.marioJump(i);\n\n                // is last box, found coins\n                if(boxes.length === this.lastBox) {\n\n                    // release body\n                    document.body.classList.remove('-mario-lock');\n                    document.body.classList.add('-mario-played');\n\n                    // change BG\n                    document.body.classList.add('-mario-bg');\n\n                    // flag\n                    box.classList.add('-jumped','-full');\n\n                    // Easter-Egging\n                    if(this.coins === 3) {\n                        // just a tease to keep clicking\n                        document.querySelector('#Mario .container').insertAdjacentHTML('beforeend', `<div class=\"mario-coin-counter\">x3</div>`);\n                    }\n                    if(this.coins > 3) {\n                        // just a tease to keep clicking\n                        document.querySelector('.mario-coin-counter').innerHTML = `x${this.coins}`;\n                    }\n\n                    // found Easter-Egg\n                    if(this.coins === 16) {\n                        // lock body\n                        document.body.classList.add('-mario-easter-egg','-bit16');\n\n                        // flag\n                        box.classList.add('-off');\n\n                        // play stomp + wow + exit sounds\n                        this.bgmStomp.play();\n                        this.bgmStomp.onended = () => this.bgmPowerUp.play();\n\n                        // show message\n                        document.getElementById('home').insertAdjacentHTML('beforeend', `\n                            <div class=\"mario-msg-overlay\"></div>\n                            <div class=\"mario-msg\">\n                                Hooray! Thank you for jumping so many times! Now you got...<br>\n                                <span class=\"-purple\">16 coins!</span><br>\n                                &nbsp;<br>\n                                Keep scrolling, you are near the end!\n            \n                                <div class=\"later\">\n                                    ;)\n                                    <button class=\"mario-msg-close\" type=\"button\" title=\"Close message\">✕</button>\n                                </div>\n                            </div>\n                        `);\n                        // animate message\n                        let msg = new TimelineMax();\n                        msg\n                            .to('.mario-msg', 1, {\n                                onStart: () => this.bgmExit.play(),\n                                scale: 1,\n                                ease: SteppedEase.config(12)\n                            })\n                            .to('.mario-msg .later', .1, {\n                                autoAlpha: 1,\n                                onComplete: () => {\n\n                                    // hide message event\n                                    function hideMsg (event) {\n                                        if(\n                                            event.target.classList.contains('mario-msg-overlay') ||\n                                            event.target.classList.contains('mario-msg-close') ||\n                                            event.key === 'Escape' ||\n                                            event.code === 'Escape'\n                                        ){\n                                            // hide & remove msg\n                                            let tl = new TimelineMax();\n                                            tl\n                                                .to('.mario-msg, .mario-msg-overlay', 1, {\n                                                    scale: 0,\n                                                    ease: SteppedEase.config(12),\n                                                    onComplete: () => {\n                                                        document.getElementById('home').removeChild( document.querySelector('.mario-msg') );\n                                                        document.getElementById('home').removeChild( document.querySelector('.mario-msg-overlay') );\n                                                        document.querySelector('#Mario .container').removeChild( document.querySelector('.mario-coin-counter') );\n                                                    }\n                                                });\n                                            // release body\n                                            document.body.classList.remove('-mario-easter-egg');\n                                        }\n                                    }\n                                    document.addEventListener('click', hideMsg);\n                                    window.addEventListener('keydow', hideMsg);\n\n                                }\n                            }, '+=4');\n\n                        return false\n                    }\n\n                    // add coin\n                    box.insertAdjacentHTML('beforeend', `<div class=\"mario-coin c${this.coins}\"></div>`);\n                    coin = document.querySelector(`.mario-coin.c${this.coins}`);\n\n                    // animate this coin\n                    let xCoords = this.r(-150,150);\n\n                    newCoin\n                        .set(coin, {\n                            autoAlpha: 1,\n                            xPercent: 0,\n                            yPercent: 0\n                        })\n                        .to(coin, .4, { yPercent: -100 })\n                        .to(coin, 1, {\n                            bezier: {\n                                curviness: 1.25,\n                                values: [{xPercent: xCoords, yPercent: this.r(-150,-100)}, {xPercent: xCoords*2, yPercent: 800}],\n                                autoRotate: false\n                            },\n                            ease: SteppedEase.config(24),\n                            onComplete: () => box.removeChild(coin),\n                        });\n\n                    // next coin\n                    this.coins++;\n\n                    // play stomp + appears sound\n                    this.bgmStomp.currentTime = 0;\n                    this.bgmStomp.play();\n                    this.bgmStomp.onended = () => {\n                        this.bgmAppears.currentTime = 0;\n                        this.bgmAppears.play();\n                    };\n                    return false\n                }\n\n                this.lastBox++;\n\n                // not last box, empty\n                // flag as empty\n                box.classList.add('-jumped','-off');\n                // play stomp sound\n                this.bgmStomp.play();\n                return false;\n\n            });\n        }\n\n        // accessibility events\n        window.addEventListener('keydown', this.accessibilityClick);\n\n    },\n\n    stop(){\n\n        // garbage\n        window.removeEventListener('keydown', this.accessibilityClick);\n\n    },\n\n    // mario jump\n    marioJump(index){\n\n        let box = document.querySelector(`.mario-box.b${index+1}`),\n            mario = document.querySelector('.mario'),\n            position = 25*(index+1);\n\n        this.mariotl\n            .clear(true)\n            .set(mario, {\n                left: `calc(${position}% - 64px)`,\n                autoAlpha: 0\n            })\n            .set( box, { yPercent: 0 } )\n            // mario\n            .fromTo(mario, .3, {\n                yPercent: 200,\n                xPercent: -150,\n                autoAlpha: 1\n            },{\n                bezier: {\n                    curviness: 1.25,\n                    values: [\n                        {xPercent: 0, yPercent: 0},\n                        {xPercent: 150, yPercent: 200}\n                    ],\n                    autoRotate: false\n                },\n                ease: SteppedEase.config(12),\n            })\n            .set(mario, { autoAlpha: 0 })\n            // box\n            .to(box, .07, { yPercent: -50, ease: SteppedEase.config(2) }, '-=.15')\n            .to(box, .07, { yPercent: 0, ease: SteppedEase.config(2) }, '-=.07' );\n\n    },\n\n}"]}]}